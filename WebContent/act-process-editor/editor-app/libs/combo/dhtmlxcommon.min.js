dhtmlx=function(b){for(var a in b)dhtmlx[a]=b[a];return dhtmlx};dhtmlx.extend_api=function(d,e,f){var t=window[d];if(!t)return;window[d]=function(b){if(b&&typeof b=="object"&&!b.tagName){var c=t.apply(this,(e._init?e._init(b):arguments));for(var a in dhtmlx)if(e[a])this[e[a]](dhtmlx[a]);for(var a in b){if(e[a])this[e[a]](b[a]);else if(a.indexOf("on")==0){this.attachEvent(a,b[a])}}}else var c=t.apply(this,arguments);if(e._patch)e._patch(this);return c||this};window[d].prototype=t.prototype;if(f)dhtmlXHeir(window[d].prototype,f)};dhtmlxAjax={get:function(a,b){var t=new dtmlXMLLoaderObject(true);t.async=(arguments.length<3);t.waitCall=b;t.loadXML(a);return t},post:function(a,b,c){var t=new dtmlXMLLoaderObject(true);t.async=(arguments.length<4);t.waitCall=c;t.loadXML(a,true,b);return t},getSync:function(a){return this.get(a,null,true)},postSync:function(a,b){return this.post(a,b,null,true)}};function dtmlXMLLoaderObject(a,b,c,d){this.xmlDoc="";if(typeof(c)!="undefined")this.async=c;else this.async=true;this.onloadAction=a||null;this.mainObject=b||null;this.waitCall=null;this.rSeed=d||false;return this};dtmlXMLLoaderObject.prototype.waitLoadFunction=function(a){var b=true;this.check=function(){if((a)&&(a.onloadAction!=null)){if((!a.xmlDoc.readyState)||(a.xmlDoc.readyState==4)){if(!b)return;b=false;if(typeof a.onloadAction=="function")a.onloadAction(a.mainObject,null,null,null,a);if(a.waitCall){a.waitCall.call(this,a);a.waitCall=null}}}};return this.check};dtmlXMLLoaderObject.prototype.getXMLTopNode=function(a,b){if(this.xmlDoc.responseXML){var c=this.xmlDoc.responseXML.getElementsByTagName(a);if(c.length==0&&a.indexOf(":")!=-1)var c=this.xmlDoc.responseXML.getElementsByTagName((a.split(":"))[1]);var z=c[0]}else var z=this.xmlDoc.documentElement;if(z){this._retry=false;return z};if((_isIE)&&(!this._retry)){var d=this.xmlDoc.responseText;var b=this.xmlDoc;this._retry=true;this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=false;this.xmlDoc["loadXM"+"L"](d);return this.getXMLTopNode(a,b)};dhtmlxError.throwError("LoadXML","Incorrect XML",[(b||this.xmlDoc),this.mainObject]);return document.createElement("DIV")};dtmlXMLLoaderObject.prototype.loadXMLString=function(a){{try{var b=new DOMParser();this.xmlDoc=b.parseFromString(a,"text/xml")}catch(e){this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=this.async;this.xmlDoc["loadXM"+"L"](a)}};this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall){this.waitCall();this.waitCall=null}};dtmlXMLLoaderObject.prototype.loadXML=function(a,b,c,d){if(this.rSeed)a+=((a.indexOf("?")!=-1)?"&":"?")+"a_dhx_rSeed="+(new Date()).valueOf();this.filePath=a;if((!_isIE)&&(window.XMLHttpRequest))this.xmlDoc=new XMLHttpRequest();else{if(document.implementation&&document.implementation.createDocument){this.xmlDoc=document.implementation.createDocument("","",null);this.xmlDoc.onload=new this.waitLoadFunction(this);this.xmlDoc.load(a);return}else this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP")};if(this.async)this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this);this.xmlDoc.open(b?"POST":"GET",a,this.async);if(d){this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")");this.xmlDoc.setRequestHeader("Content-type","text/xml")}else if(b)this.xmlDoc.setRequestHeader('Content-type','application/x-www-form-urlencoded');this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(null||c);if(!this.async)(new this.waitLoadFunction(this))()};dtmlXMLLoaderObject.prototype.destructor=function(){this.onloadAction=null;this.mainObject=null;this.xmlDoc=null;return null};dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(a){var t={};for(var i=0;i<a.attributes.length;i++)t[a.attributes[i].name]=a.attributes[i].value;t["_tagvalue"]=a.firstChild?a.firstChild.nodeValue:"";for(var i=0;i<a.childNodes.length;i++){var b=a.childNodes[i].tagName;if(b){if(!t[b])t[b]=[];t[b].push(this.xmlNodeToJSON(a.childNodes[i]))}};return t};function callerFunction(a,b){this.handler=function(e){if(!e)e=window.event;a(e,b);return true};return this.handler};function getAbsoluteLeft(a){return getOffset(a).left};function getAbsoluteTop(a){return getOffset(a).top};function getOffsetSum(a){var b=0,left=0;while(a){b=b+parseInt(a.offsetTop);left=left+parseInt(a.offsetLeft);a=a.offsetParent};return{top:b,left:left}};function getOffsetRect(a){var b=a.getBoundingClientRect();var c=document.body;var d=document.documentElement;var e=window.pageYOffset||d.scrollTop||c.scrollTop;var f=window.pageXOffset||d.scrollLeft||c.scrollLeft;var g=d.clientTop||c.clientTop||0;var h=d.clientLeft||c.clientLeft||0;var i=b.top+e-g;var j=b.left+f-h;return{top:Math.round(i),left:Math.round(j)}};function getOffset(a){if(a.getBoundingClientRect&&!_isChrome){return getOffsetRect(a)}else{return getOffsetSum(a)}};function convertStringToBoolean(a){if(typeof(a)=="string")a=a.toLowerCase();switch(a){case"1":case"true":case"yes":case"y":case 1:case true:return true;break;default:return false}};function getUrlSymbol(a){if(a.indexOf("?")!=-1)return"&";else return"?"};function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop)return window.dhtmlDragAndDrop;this.lastLanding=0;this.dragNode=0;this.dragStartNode=0;this.dragStartObject=0;this.tempDOMU=null;this.tempDOMM=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this};dhtmlDragAndDropObject.prototype.removeDraggableItem=function(a){a.onmousedown=null;a.dragStarter=null;a.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(a,b){a.onmousedown=this.preCreateDragCopy;a.dragStarter=b;this.addDragLanding(a,b)};dhtmlDragAndDropObject.prototype.addDragLanding=function(a,b){a.dragLanding=b};dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(e){if((e||event)&&(e||event).button==2)return;if(window.dhtmlDragAndDrop.waitDrag){window.dhtmlDragAndDrop.waitDrag=0;document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU;document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM;return false};window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;if((e)&&(e.preventDefault)){e.preventDefault();return false};return false};dhtmlDragAndDropObject.prototype.callDrag=function(e){if(!e)e=window.event;dragger=window.dhtmlDragAndDrop;if((e.button==0)&&(_isIE))return dragger.stopDrag();if(!dragger.dragNode&&dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,e);if(!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return false};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()};if(dragger.dragNode.parentNode!=window.document.body){var a=dragger.gldragNode;if(dragger.gldragNode.old)a=dragger.gldragNode.old;a.parentNode.removeChild(a);var b=dragger.dragNode.pWindow;if(_isIE){var c=document.createElement("Div");c.innerHTML=dragger.dragNode.outerHTML;dragger.dragNode=c.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(true);dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);b.dhtmlDragAndDrop.dragNode=dragger.dragNode};dragger.dragNode.style.left=e.clientX+15+(dragger.fx?dragger.fx*(-1):0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=e.clientY+3+(dragger.fy?dragger.fy*(-1):0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px";if(!e.srcElement)var z=e.target;else z=e.srcElement;dragger.checkLanding(z,e)};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(n){if(window.name){var a=parent.frames[window.name].frameElement.offsetParent;var b=0;var c=0;while(a){b+=a.offsetLeft;c+=a.offsetTop;a=a.offsetParent};if((parent.dhtmlDragAndDrop)){var d=parent.dhtmlDragAndDrop.calculateFramePosition(1);b+=d.split('_')[0]*1;c+=d.split('_')[1]*1};if(n)return b+"_"+c;else this.fx=b;this.fy=c};return"0_0"};dhtmlDragAndDropObject.prototype.checkLanding=function(a,e){if((a)&&(a.dragLanding)){if(this.lastLanding)this.lastLanding.dragLanding._dragOut(this.lastLanding);this.lastLanding=a;this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,e.clientX,e.clientY,e);this.lastLanding_scr=(_isIE?e.srcElement:e.target)}else{if((a)&&(a.tagName!="BODY"))this.checkLanding(a.parentNode,e);else{if(this.lastLanding)this.lastLanding.dragLanding._dragOut(this.lastLanding,e.clientX,e.clientY,e);this.lastLanding=0;if(this._onNotFound)this._onNotFound()}}};dhtmlDragAndDropObject.prototype.stopDrag=function(e,a){dragger=window.dhtmlDragAndDrop;if(!a){dragger.stopFrameRoute();var b=dragger.lastLanding;dragger.lastLanding=null;if(b)b.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,b,(_isIE?event.srcElement:e.target))};dragger.lastLanding=null;if((dragger.dragNode)&&(dragger.dragNode.parentNode==document.body))dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(a){if(a)window.dhtmlDragAndDrop.stopDrag(1,1);for(var i=0;i<window.frames.length;i++){try{if((window.frames[i]!=a)&&(window.frames[i].dhtmlDragAndDrop))window.frames[i].dhtmlDragAndDrop.stopFrameRoute(window)}catch(e){}};try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=a))parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(e){}};dhtmlDragAndDropObject.prototype.initFrameRoute=function(a,b){if(a){window.dhtmlDragAndDrop.preCreateDragCopy();window.dhtmlDragAndDrop.dragStartNode=a.dhtmlDragAndDrop.dragStartNode;window.dhtmlDragAndDrop.dragStartObject=a.dhtmlDragAndDrop.dragStartObject;window.dhtmlDragAndDrop.dragNode=a.dhtmlDragAndDrop.dragNode;window.dhtmlDragAndDrop.gldragNode=a.dhtmlDragAndDrop.dragNode;window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag;window.waitDrag=0;if(((!_isIE)&&(b))&&((!_isFF)||(_FFrv<1.8)))window.dhtmlDragAndDrop.calculateFramePosition()};try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=a))parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(e){};for(var i=0;i<window.frames.length;i++){try{if((window.frames[i]!=a)&&(window.frames[i].dhtmlDragAndDrop))window.frames[i].dhtmlDragAndDrop.initFrameRoute(window,((!a||b)?1:0))}catch(e){}}};var _isFF=false;var _isIE=false;var _isOpera=false;var _isKHTML=false;var _isMacOS=false;var _isChrome=false;if(navigator.userAgent.indexOf('Macintosh')!=-1)_isMacOS=true;if(navigator.userAgent.toLowerCase().indexOf('chrome')>-1)_isChrome=true;if((navigator.userAgent.indexOf('Safari')!=-1)||(navigator.userAgent.indexOf('Konqueror')!=-1)){var _KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf('Safari')+7,5));if(_KHTMLrv>525){_isFF=true;var _FFrv=1.9}else _isKHTML=true}else if(navigator.userAgent.indexOf('Opera')!=-1){_isOpera=true;_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf('Opera')+6,3))}else if(navigator.appName.indexOf("Microsoft")!=-1){_isIE=true;if(navigator.appVersion.indexOf("MSIE 8.0")!=-1&&document.compatMode!="BackCompat")_isIE=8}else{_isFF=true;var _FFrv=parseFloat(navigator.userAgent.split("rv:")[1])};dtmlXMLLoaderObject.prototype.doXPath=function(b,c,d,e){if(_isKHTML||(!_isIE&&!window.XPathResult))return this.doXPathOpera(b,c);if(_isIE){if(!c)if(!this.xmlDoc.nodeName)c=this.xmlDoc.responseXML;else c=this.xmlDoc;if(!c)dhtmlxError.throwError("LoadXML","Incorrect XML",[(c||this.xmlDoc),this.mainObject]);if(d!=null)c.setProperty("SelectionNamespaces","xmlns:xsl='"+d+"'");if(e=='single'){return c.selectSingleNode(b)}else{return c.selectNodes(b)||new Array(0)}}else{var f=c;if(!c){if(!this.xmlDoc.nodeName){c=this.xmlDoc.responseXML}else{c=this.xmlDoc}};if(!c)dhtmlxError.throwError("LoadXML","Incorrect XML",[(c||this.xmlDoc),this.mainObject]);if(c.nodeName.indexOf("document")!=-1){f=c}else{f=c;c=c.ownerDocument};var g=XPathResult.ANY_TYPE;if(e=='single')g=XPathResult.FIRST_ORDERED_NODE_TYPE;var h=new Array();var i=c.evaluate(b,f,function(a){return d},g,null);if(g==XPathResult.FIRST_ORDERED_NODE_TYPE){return i.singleNodeValue};var j=i.iterateNext();while(j){h[h.length]=j;j=i.iterateNext()};return h}};function _dhtmlxError(a,b,c){if(!this.catches)this.catches=new Array();return this};_dhtmlxError.prototype.catchError=function(a,b){this.catches[a]=b};_dhtmlxError.prototype.throwError=function(a,b,c){if(this.catches[a])return this.catches[a](a,b,c);if(this.catches["ALL"])return this.catches["ALL"](a,b,c);alert("Error type: "+arguments[0]+"\nDescription: "+arguments[1]);return null};window.dhtmlxError=new _dhtmlxError();dtmlXMLLoaderObject.prototype.doXPathOpera=function(a,b){var z=a.replace(/[\/]+/gi,"/").split('/');var c=null;var i=1;if(!z.length)return[];if(z[0]==".")c=[b];else if(z[0]==""){c=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(z[i].replace(/\[[^\]]*\]/g,""));i++}else return[];for(i;i<z.length;i++)c=this._getAllNamedChilds(c,z[i]);if(z[i-1].indexOf("[")!=-1)c=this._filterXPath(c,z[i-1]);return c};dtmlXMLLoaderObject.prototype._filterXPath=function(a,b){var c=new Array();var b=b.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,"");for(var i=0;i<a.length;i++)if(a[i].getAttribute(b))c[c.length]=a[i];return c};dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,b){var c=new Array();if(_isKHTML)b=b.toUpperCase();for(var i=0;i<a.length;i++)for(var j=0;j<a[i].childNodes.length;j++){if(_isKHTML){if(a[i].childNodes[j].tagName&&a[i].childNodes[j].tagName.toUpperCase()==b)c[c.length]=a[i].childNodes[j]}else if(a[i].childNodes[j].tagName==b)c[c.length]=a[i].childNodes[j]};return c};function dhtmlXHeir(a,b){for(var c in b)if(typeof(b[c])=="function")a[c]=b[c];return a};function dhtmlxEvent(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else if(a.attachEvent)a.attachEvent("on"+b,c)};dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(a,b,c){if(!c)c=this.xslDoc;if(c.responseXML)c=c.responseXML;var d=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+a+"']",c,"http:/\/www.w3.org/1999/XSL/Transform","single");if(d!=null)d.firstChild.nodeValue=b};dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(a,b){if(!a)a=this.xslDoc;if(a.responseXML)a=a.responseXML;if(!b)b=this.xmlDoc;if(b.responseXML)b=b.responseXML;if(!_isIE){if(!this.XSLProcessor){this.XSLProcessor=new XSLTProcessor();this.XSLProcessor.importStylesheet(a)};var c=this.XSLProcessor.transformToDocument(b)}else{var c=new ActiveXObject("Msxml2.DOMDocument.3.0");try{b.transformNodeToObject(a,c)}catch(e){c=b.transformNode(a)}};return c};dtmlXMLLoaderObject.prototype.doXSLTransToString=function(a,b){var c=this.doXSLTransToObject(a,b);if(typeof(c)=="string")return c;return this.doSerialization(c)};dtmlXMLLoaderObject.prototype.doSerialization=function(a){if(!a)a=this.xmlDoc;if(a.responseXML)a=a.responseXML;if(!_isIE){var b=new XMLSerializer();return b.serializeToString(a)}else return a.xml};dhtmlxEventable=function(e){e.dhx_SeverCatcherPath="";e.attachEvent=function(a,b,c){a='ev_'+a.toLowerCase();if(!this[a])this[a]=new this.eventCatcher(c||this);return(a+':'+this[a].addEvent(b))};e.callEvent=function(a,b){a='ev_'+a.toLowerCase();if(this[a])return this[a].apply(this,b);return true};e.checkEvent=function(a){return(!!this['ev_'+a.toLowerCase()])};e.eventCatcher=function(c){var d=[];var z=function(){var a=true;for(var i=0;i<d.length;i++){if(d[i]!=null){var b=d[i].apply(c,arguments);a=a&&b}};return a};z.addEvent=function(a){if(typeof(a)!="function")a=eval(a);if(a)return d.push(a)-1;return false};z.removeEvent=function(a){d[a]=null};return z};e.detachEvent=function(a){if(a!=false){var b=a.split(':');this[b[0]].removeEvent(b[1])}}};